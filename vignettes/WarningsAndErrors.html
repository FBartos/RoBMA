<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="František Bartoš" />

<meta name="date" content="2021-01-18" />

<title>Common warnings and errors</title>

<script>// Hide empty <a> tag within highlighted CodeBlock for screen reader accessibility (see https://github.com/jgm/pandoc/issues/6352#issuecomment-626106786) -->
// v0.0.1
// Written by JooYoung Seo (jooyoung@psu.edu) and Atsushi Yasumoto on June 1st, 2020.

document.addEventListener('DOMContentLoaded', function() {
  const codeList = document.getElementsByClassName("sourceCode");
  for (var i = 0; i < codeList.length; i++) {
    var linkList = codeList[i].getElementsByTagName('a');
    for (var j = 0; j < linkList.length; j++) {
      if (linkList[j].innerHTML === "") {
        linkList[j].setAttribute('aria-hidden', 'true');
      }
    }
  }
});
</script>
<style type="text/css">
a.anchor-section {margin-left: 10px; visibility: hidden; color: inherit;}
a.anchor-section::before {content: '#';}
.hasAnchor:hover a.anchor-section {visibility: visible;}
</style>
<script>// Anchor sections v1.0 written by Atsushi Yasumoto on Oct 3rd, 2020.
document.addEventListener('DOMContentLoaded', function() {
  // Do nothing if AnchorJS is used
  if (typeof window.anchors === 'object' && anchors.hasOwnProperty('hasAnchorJSLink')) {
    return;
  }

  const h = document.querySelectorAll('h1, h2, h3, h4, h5, h6');

  // Do nothing if sections are already anchored
  if (Array.from(h).some(x => x.classList.contains('hasAnchor'))) {
    return null;
  }

  // Use section id when pandoc runs with --section-divs
  const section_id = function(x) {
    return ((x.classList.contains('section') || (x.tagName === 'SECTION'))
            ? x.id : '');
  };

  // Add anchors
  h.forEach(function(x) {
    const id = x.id || section_id(x.parentElement);
    if (id === '') {
      return null;
    }
    let anchor = document.createElement('a');
    anchor.href = '#' + id;
    anchor.classList = ['anchor-section'];
    x.classList.add('hasAnchor');
    x.appendChild(anchor);
  });
});
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>





<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Common warnings and errors</h1>
<h4 class="author">František Bartoš</h4>
<h4 class="date">2021-01-18</h4>



<p>The package can produce many warnings or error messages. Here, we discuss their meaning and how to resolve the most common ones.</p>
<div id="installation-problems" class="section level3">
<h3>Installation problems</h3>
<p>The package contains C++ code that implements the weighted-t distributions for JAGS. As a result, there might be problems with the package installation when JAGS is not installed at the default directory. We tried to use the same way of locating JAGS installation as the <code>runjags</code> package. If you managed to successfully install <code>runjags</code>, the same steps should help to install <code>RoBMA</code>.</p>
</div>
<div id="full-precision-may-not-have-been-achieved-in-pntfinal" class="section level3">
<h3>full precision may not have been achieved in ‘pnt{final}’</h3>
<p>This message is completely harmless and (unfortunately) cannot be muted (apart from suppressing all output by adding <code>silent = TRUE</code> to the <code>control</code> argument). It is generated by the cumulative probability density function of <em>t</em>-distribution implemented in R’s C math library. The function is called from JAGS to normalize the probability density function of the weighted <em>t</em>-distribution. In many cases, the cumulative probability between two <em>p</em>-values cut-offs can be very close to zero, resulting in a warning. In those cases a zero probability for the current interval might be returned, however, the difference from the true value is negligible. The package also provides a version of the probability density function of the weighted <em>t</em>-distribution that uses a higher precision C++ boost library. This higher precision calculation can be turned on by setting <code>boost = TRUE</code> to the <code>control</code> argument. However, the fitting time will be increased by more than two times.</p>
</div>
<div id="models-x-initial-fit-failed-due-to-incompatible-starting-values-most-likely-due-to-an-outlier-in-the-data-and-limited-precision-of-t-distribution.-starting-values-for-the-mean-parameter-were-therefore-set-to-the-mean-of-supplied-data." class="section level3">
<h3>Model’s X initial fit failed due to incompatible starting values (most likely due to an outlier in the data and limited precision of t-distribution). Starting values for the mean parameter were therefore set to the mean of supplied data.</h3>
<p>This message is also harmless and indicates that the starting values generated by the specified prior distributions could not be used. In some cases, the likelihood cannot be evaluated at the original starting value because the data are too far from values implicated by the data. This can be usually resolved by changing the starting values for the mean parameter to the mean of supplied data - which is automatically done by the <code>RoBMA()</code> function. The only disadvantage is the lower variability of the chains starting position. Another option might be to using higher precision distributions implemented in boost C++ library. That can be achieved by setting <code>boost = TRUE</code> to the <code>control</code> argument, however, it will result in more than two times longer fitting times. You can access overview of the MCMC convergence by using <code>summary(fit, type = &quot;models&quot;, diagnostics = TRUE)</code> or check the MCMC diagnostics plot for any parameter of any model by using <code>diagnostics()</code> function. For example, to plot a traceplot of mean parameter of the sixth model, use <code>diagnostics(fit, parameter = &quot;mu&quot;,  type = &quot;chain&quot;, show_models = 6)</code>).</p>
</div>
<div id="models-x-initial-fit-failed-due-to-incompatible-starting-values-most-likely-due-to-an-outlier-in-the-data-and-limited-precision-of-t-distribution.-the-model-was-refitted-using-boost-likelihood-function." class="section level3">
<h3>Model’s X initial fit failed due to incompatible starting values (most likely due to an outlier in the data and limited precision of t-distribution). The model was refitted using boost likelihood function.</h3>
<p>This message is very similar to the previous one. It is generated if a change in the starting values for the mean parameter was not sufficient and the function resolved to use a higher precision boost library (and using the changed starting values). As a result, the model takes longer to estimate. All information provided in the previous paragraph applies here too. Please, contact me at f.bartos[at]gmail.com in case that even using a boost likelihood function did not result in successful model estimation.</p>
</div>
<div id="some-of-the-models-failed-to-converge.-however-there-were-other-models-with-the-same-combination-of-presenceabsence-of-effectheterogeneitypublication-bias-and-their-prior-probability-was-increased-to-account-for-the-failed-models." class="section level3">
<h3>Some of the models failed to converge. However, there were other models with the same combination of presence/absence of effect/heterogeneity/publication bias and their prior probability was increased to account for the failed models.</h3>
<p>This message indicates that one of the models failed to converge. In this case, the default behavior is to check the remaining models and increase the prior probability of those models whose prior distributions were specified within the same categories as the failed model. For example, with the default settings <code>RoBMA()</code> fits two models that assume effect, heterogeneity, and publication bias (one with two-step weight function and second with three-step weight function). If one of those models fails to converge (assuming estimation difficulties not associated with the likelihood of the model), the <code>RoBMA()</code> function automatically transfers the prior model probability to the remaining model, keeping the prior model probabilities for each component balanced. This setting can be overridden by setting the <code>balance_prob = FALSE</code> in the <code>control</code> argument. If the model is already fitted, you can still change the prior model probabilities of individual models by using the <code>update.RoBMA()</code> function and specifying a <code>prior_odds</code> argument with a numeric vector of prior odds of individual models and setting <code>refit_failed = FALSE</code>. Another option is trying to refit the failed models with an increased number of iterations, burnin, adapt, or thin settings by again using the <code>update.RoBMA()</code> function and changing the corresponding settings. Note that only the failed models will be refitted.</p>
</div>
<div id="some-of-the-models-failed-to-converge-and-their-prior-probability-couldnt-be-balanced-over-models-with-the-same-combination-of-presenceabsence-of-effectheterogeneitypublication-bias-since-they-dont-exist." class="section level3">
<h3>Some of the models failed to converge and their prior probability couldn’t be balanced over models with the same combination of presence/absence of effect/heterogeneity/publication bias since they don’t exist.</h3>
<p>This message is very similar to the previous one, however, there were no other models whose prior distributions were specified within the same categories as the failed model. As a result, the prior probability of the failed model could not be transferred. For example, with the default settings <code>RoBMA()</code> fits one model that assumes effect, heterogeneity, and no publication bias. If this model cannot be estimated, there is no other model that could be used to balance the prior probability of the model components. As a result, the prior probability of the failed model is spread equally across all fitted models. All information regarding solving this problem provided in the previous paragraph applies here too.</p>
</div>
<div id="other-problems" class="section level3">
<h3>Other problems</h3>
<p>Please file a GitHub issue at <a href="https://github.com/FBartos/RoBMA/issues" class="uri">https://github.com/FBartos/RoBMA/issues</a> or contact me at f.bartos[at]gmail.com in case of any other problems.</p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
