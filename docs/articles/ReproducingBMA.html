<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Reproducing BMA • RoBMA</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Reproducing BMA">
<meta property="og:description" content="RoBMA">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RoBMA</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/CustomEnsembles.html">Fitting custom meta-analytic ensembles</a>
    </li>
    <li>
      <a href="../articles/ReproducingBMA.html">Reproducing BMA</a>
    </li>
    <li>
      <a href="../articles/WarningsAndErrors.html">Common warnings and errors</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/FBartos/RoBMA/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="ReproducingBMA_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Reproducing BMA</h1>
                        <h4 class="author">František Bartoš</h4>
            
            <h4 class="date">2020-10-29</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/FBartos/RoBMA/blob/master/vignettes/ReproducingBMA.Rmd"><code>vignettes/ReproducingBMA.Rmd</code></a></small>
      <div class="hidden name"><code>ReproducingBMA.Rmd</code></div>

    </div>

    
    
<p>By default, the package estimates an ensemble of 12 meta-analytic models and provides functions for convenient manipulation with the fitted object. However, it has been built in a way that it can be used as a framework for estimating any combination of meta-analytic models (or a single model). Here, we illustrate how to build a custom ensemble of meta-analytic models - specifically the same ensemble as is used in ‘classical’ Bayesian Meta-Analysis <span class="citation">(Gronau et al., 2017)</span>. See <a href="CustomEnsembles.html">this vignette</a> if you are interested in building more customized ensembles.</p>
<div id="reproducing-bayesian-meta-analysis-bma" class="section level3">
<h3 class="hasAnchor">
<a href="#reproducing-bayesian-meta-analysis-bma" class="anchor"></a>Reproducing Bayesian Meta-Analysis (BMA)</h3>
<p>We illustrate how to fit a classical BMA (not adjusting for publication bias) using <code>RoBMA</code>. For this purpose, we reproduce a meta-analysis of registered reports on Power posing by <span class="citation">Gronau et al. (2017)</span>. We focus only on the analysis using all reported results using a Cauchy prior distribution with scale <span class="math inline">\(1/\sqrt{2}\)</span> for the effect size estimation (half-Cauchy for testing) and inverse-gamma distribution with scale = 1 and shape 0.15 for the heterogeneity parameter. You can find the figure from the original publication <a href="https://www.flickr.com/photos/149473606@N08/34086113581/in/dateposted-public/">here</a> and the paper’s supplementary materials at <a href="https://osf.io/fxg32/" class="uri">https://osf.io/fxg32/</a>.</p>
<p>First, we load the power posing data provided within the metaBMA package and reproduce the analysis performed by <span class="citation">Gronau et al. (2017)</span>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"power_pose"</span>, package <span class="op">=</span> <span class="st">"metaBMA"</span><span class="op">)</span>
<span class="va">power_pose</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"study"</span>, <span class="st">"effectSize"</span>, <span class="st">"SE"</span><span class="op">)</span><span class="op">]</span>
<span class="co">#&gt;                study effectSize        SE</span>
<span class="co">#&gt; 1      Bailey et al.  0.2507640 0.2071399</span>
<span class="co">#&gt; 2       Ronay et al.  0.2275180 0.1931046</span>
<span class="co">#&gt; 3 Klaschinski et al.  0.3186069 0.1423228</span>
<span class="co">#&gt; 4     Bombari et al.  0.2832082 0.1421356</span>
<span class="co">#&gt; 5        Latu et al.  0.1463949 0.1416107</span>
<span class="co">#&gt; 6      Keller et al.  0.1509773 0.1221166</span></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="va">fit_BMA_test</span> <span class="op">&lt;-</span> <span class="fu">metaBMA</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/metaBMA/man/meta_bma.html">meta_bma</a></span><span class="op">(</span>y   <span class="op">=</span> <span class="va">power_pose</span><span class="op">$</span><span class="va">effectSize</span>, SE <span class="op">=</span> <span class="va">power_pose</span><span class="op">$</span><span class="va">SE</span>,
                                  d   <span class="op">=</span> <span class="fu">metaBMA</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/metaBMA/man/prior.html">prior</a></span><span class="op">(</span>family <span class="op">=</span> <span class="st">"halfcauchy"</span>, param <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span>,
                                  tau <span class="op">=</span> <span class="fu">metaBMA</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/metaBMA/man/prior.html">prior</a></span><span class="op">(</span>family <span class="op">=</span> <span class="st">"invgamma"</span>, param <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">.15</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
 
<span class="va">fit_BMA_est</span>  <span class="op">&lt;-</span> <span class="fu">metaBMA</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/metaBMA/man/meta_bma.html">meta_bma</a></span><span class="op">(</span>y   <span class="op">=</span> <span class="va">power_pose</span><span class="op">$</span><span class="va">effectSize</span>, SE <span class="op">=</span> <span class="va">power_pose</span><span class="op">$</span><span class="va">SE</span>,
                                  d   <span class="op">=</span> <span class="fu">metaBMA</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/metaBMA/man/prior.html">prior</a></span><span class="op">(</span>family <span class="op">=</span> <span class="st">"cauchy"</span>, param <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span>,
                                  tau <span class="op">=</span> <span class="fu">metaBMA</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/metaBMA/man/prior.html">prior</a></span><span class="op">(</span>family <span class="op">=</span> <span class="st">"invgamma"</span>, param <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">.15</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="va">fit_BMA_test</span><span class="op">$</span><span class="va">inclusion</span>
<span class="co">#&gt; ### Inclusion Bayes factor ###</span>
<span class="co">#&gt;       Model Prior Posterior included</span>
<span class="co">#&gt; 1  fixed_H0  0.25   0.00868         </span>
<span class="co">#&gt; 2  fixed_H1  0.25   0.77745        x</span>
<span class="co">#&gt; 3 random_H0  0.25   0.02061         </span>
<span class="co">#&gt; 4 random_H1  0.25   0.19325        x</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   Inclusion posterior probability: 0.971 </span>
<span class="co">#&gt;   Inclusion Bayes factor: 33.136</span>

<span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">fit_BMA_est</span><span class="op">$</span><span class="va">estimates</span>,<span class="fl">2</span><span class="op">)</span>
<span class="co">#&gt;          mean   sd 2.5%  50% 97.5% hpd95_lower hpd95_upper  n_eff Rhat</span>
<span class="co">#&gt; averaged 0.22 0.06 0.09 0.22  0.34        0.09        0.34     NA   NA</span>
<span class="co">#&gt; fixed    0.22 0.06 0.10 0.22  0.34        0.10        0.34 3693.1    1</span>
<span class="co">#&gt; random   0.22 0.08 0.07 0.22  0.37        0.07        0.37 5041.1    1</span></pre></div>
<p>From the output, we can see that the inclusion Bayes factor for the effect size was <span class="math inline">\(BF_{10} = 33.14\)</span> and the effect size estimate 0.22, 95% HDI [0.09, 0.34] which matches the reported results. Please note that the <code>metaBMA</code> package model-averages only across the <span class="math inline">\(H_{1}\)</span> models, whereas the <code>RoBMA</code> package model-averages across all models.</p>
</div>
<div id="using-robma" class="section level3">
<h3 class="hasAnchor">
<a href="#using-robma" class="anchor"></a>Using RoBMA</h3>
<p>Now we reproduce the analysis with <code>RoBMA</code>. Note that some differences in the results are expected since the <code>RoBMA</code> package evaluates the likelihood of test-statistics and not the effect sizes itself. The original data contain t-values and sample sizes, which would be the preffered input, however, we use the general effect sizes and standard errors input to show that the <code><a href="../reference/RoBMA.html">RoBMA()</a></code> can handle them as well. We set the corresponding prior distributions for effect sizes (<span class="math inline">\(\mu\)</span>) and heterogeneity (<span class="math inline">\(\tau\)</span>), and remove the alternative prior distributions for the publication bias (<span class="math inline">\(\omega\)</span>) by setting <code>priors_omega = NULL</code>. Note that for specifying half-Cauchy prior distribution with the <code><a href="../reference/prior.html">RoBMA::prior()</a></code> function, we use a regular Cauchy distribution and truncate it at zero. The inverse-gamma prior distribution for the <span class="math inline">\(\tau\)</span> parameter is the default option (we specify it for completeness) and we omit the specifications for the null prior distributions for <span class="math inline">\(\mu\)</span>, <span class="math inline">\(\tau\)</span> (both of which are set to a spike at 0 by default), and <span class="math inline">\(\omega\)</span> (which is set to no publication bias by default). We also turn on the silent option to not spam the output and set a seed for reproducibility.</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://fbartos.github.io/RoBMA/">RoBMA</a></span><span class="op">)</span>

<span class="va">fit_RoBMA_test</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/RoBMA.html">RoBMA</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">power_pose</span><span class="op">$</span><span class="va">effectSize</span>, se <span class="op">=</span> <span class="va">power_pose</span><span class="op">$</span><span class="va">SE</span>, study_names <span class="op">=</span> <span class="va">power_pose</span><span class="op">$</span><span class="va">study</span>,
                        priors_mu  <span class="op">=</span> <span class="fu"><a href="../reference/prior.html">prior</a></span><span class="op">(</span>
                          distribution <span class="op">=</span> <span class="st">"cauchy"</span>,
                          parameters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>location <span class="op">=</span> <span class="fl">0</span>, scale <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span>,
                          truncation <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fl">0</span>, <span class="cn">Inf</span><span class="op">)</span><span class="op">)</span>,
                        priors_tau <span class="op">=</span> <span class="fu"><a href="../reference/prior.html">prior</a></span><span class="op">(</span>
                          distribution <span class="op">=</span> <span class="st">"invgamma"</span>,
                          parameters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>shape <span class="op">=</span> <span class="fl">1</span>, scale <span class="op">=</span> <span class="fl">0.15</span><span class="op">)</span><span class="op">)</span>,
                        priors_omega <span class="op">=</span> <span class="cn">NULL</span>,
                        control <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>silent <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, seed <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>

<span class="va">fit_RoBMA_est</span>  <span class="op">&lt;-</span> <span class="fu"><a href="../reference/RoBMA.html">RoBMA</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">power_pose</span><span class="op">$</span><span class="va">effectSize</span>, se <span class="op">=</span> <span class="va">power_pose</span><span class="op">$</span><span class="va">SE</span>, study_names <span class="op">=</span> <span class="va">power_pose</span><span class="op">$</span><span class="va">study</span>,
                        priors_mu  <span class="op">=</span> <span class="fu"><a href="../reference/prior.html">prior</a></span><span class="op">(</span>
                          distribution <span class="op">=</span> <span class="st">"cauchy"</span>,
                          parameters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>location <span class="op">=</span> <span class="fl">0</span>, scale <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,
                        priors_tau <span class="op">=</span> <span class="fu"><a href="../reference/prior.html">prior</a></span><span class="op">(</span>
                          distribution <span class="op">=</span> <span class="st">"invgamma"</span>,
                          parameters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>shape <span class="op">=</span> <span class="fl">1</span>, scale <span class="op">=</span> <span class="fl">0.15</span><span class="op">)</span><span class="op">)</span>,
                        priors_omega <span class="op">=</span> <span class="cn">NULL</span>,
                        control <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>silent <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, seed <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">fit_RoBMA_test</span><span class="op">)</span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; RoBMA(y = power_pose$effectSize, se = power_pose$SE, study_names = power_pose$study, </span>
<span class="co">#&gt;     priors_mu = prior(distribution = "cauchy", parameters = list(location = 0, </span>
<span class="co">#&gt;         scale = 1/sqrt(2)), truncation = list(0, Inf)), priors_tau = prior(distribution = "invgamma", </span>
<span class="co">#&gt;         parameters = list(shape = 1, scale = 0.15)), priors_omega = NULL, </span>
<span class="co">#&gt;     control = list(silent = TRUE), seed = 1)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Robust Bayesian Meta-Analysis</span>
<span class="co">#&gt;               Models Prior prob. Post. prob. Incl. BF</span>
<span class="co">#&gt; Effect           2/4       0.500       0.971   33.101</span>
<span class="co">#&gt; Heterogeneity    2/4       0.500       0.214    0.272</span>
<span class="co">#&gt; Pub. bias        0/4       0.000       0.000       NA</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Model-averaged estimates</span>
<span class="co">#&gt;      Mean Median 0.025 0.975</span>
<span class="co">#&gt; mu  0.213  0.217 0.000 0.345</span>
<span class="co">#&gt; tau 0.021  0.000 0.000 0.169</span>

<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">fit_RoBMA_est</span>, conditional <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; Call:</span>
<span class="co">#&gt; RoBMA(y = power_pose$effectSize, se = power_pose$SE, study_names = power_pose$study, </span>
<span class="co">#&gt;     priors_mu = prior(distribution = "cauchy", parameters = list(location = 0, </span>
<span class="co">#&gt;         scale = 1/sqrt(2))), priors_tau = prior(distribution = "invgamma", </span>
<span class="co">#&gt;         parameters = list(shape = 1, scale = 0.15)), priors_omega = NULL, </span>
<span class="co">#&gt;     control = list(silent = TRUE), seed = 2)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Robust Bayesian Meta-Analysis</span>
<span class="co">#&gt;               Models Prior prob. Post. prob. Incl. BF</span>
<span class="co">#&gt; Effect           2/4       0.500       0.943   16.603</span>
<span class="co">#&gt; Heterogeneity    2/4       0.500       0.228    0.295</span>
<span class="co">#&gt; Pub. bias        0/4       0.000       0.000       NA</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Model-averaged estimates</span>
<span class="co">#&gt;      Mean Median 0.025 0.975</span>
<span class="co">#&gt; mu  0.209  0.216 0.000 0.349</span>
<span class="co">#&gt; tau 0.025  0.000 0.000 0.190</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Conditional estimates</span>
<span class="co">#&gt;      Mean Median 0.025 0.975</span>
<span class="co">#&gt; mu  0.221  0.221 0.099 0.349</span>
<span class="co">#&gt; tau 0.109  0.090 0.031 0.302</span></pre></div>
<p>At first, we notice a few warning messages which inform us about using data-informed starting values. These are harmless and are further discussed in <a href="WarningsAndErrors.html">another vignette</a></p>
<p>The output from the <code><a href="../reference/summary.RoBMA.html">summary.RoBMA()</a></code> function has 2 parts. The first one under the “Robust Bayesian Meta-Analysis” heading provides a basic summary of the fitted models by the component types (presence of Effect/Heterogeneity/Publication bias). Here, we can see that there are no models correcting for publication bias (we disabled them by setting <code>priors_omega = NULL</code>). We can find there the prior and posterior component probability and their inclusion BF. The results for the half-Cauchy model specified for testing show that the inclusion BF is basically identical to the one computed by the <code>metaBMA</code> package, <span class="math inline">\(BF_{10} = 33.10\)</span>. The second part under the ‘Model-averaged estimates’ heading displays the parameter estimates (that are model-averaged across all fitted models. If we want to compare the results to the output from <code>metaBMA</code>, we have to look into the table under the ‘Conditional estimates’ heading. It presents estimates averaged only across the models that assume the presence of the specific component (we invoke this section by adding <code>conditional = TRUE</code> argument). Here we can see, the conditional effect size estimate 0.22, 95% CI [0.10, 0.35] that mirrors the estimate from the <code>metaBMA</code> package.</p>
</div>
<div id="visualizating-the-results" class="section level3">
<h3 class="hasAnchor">
<a href="#visualizating-the-results" class="anchor"></a>Visualizating the results</h3>
<p>RoBMA provides extensive options for visualizing the results. Here, we visualize the prior (grey) and posterior (black) distribution for the mean parameter. Note that this figure displays the model-averaged results by default, which contain weighted estimates from all of the models. The arrows stand for the probability of a spike, here, at the value 0. We can see on the left-side y-axis that the probability of the value 0 decreased from .50, to 0.06 (also obtainable from the “Robust Bayesian Meta-Analysis” field in the <code><a href="../reference/summary.RoBMA.html">summary.RoBMA()</a></code> function).</p>
<div class="sourceCode" id="cb6"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span><span class="op">(</span><span class="va">fit_RoBMA_est</span>, parameter <span class="op">=</span> <span class="st">"mu"</span>, prior <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></pre></div>
<p><img src="ReproducingBMA_files/figure-html/unnamed-chunk-5-1.png" width="384" style="display: block; margin: auto;"></p>
<p>Or, we can focus only on the conditional estimates, assuming that the prior distributions specified under the alternative hypothesis for <span class="math inline">\(\mu\)</span> are true by adding <code>type = "conditional"</code> argument. All of the figures can be also generated using the <code>ggplot2</code> package, that allows further styling. To do that, we just need to add <code>plot_type = "ggplot"</code> to the plotting function call.</p>
<div class="sourceCode" id="cb7"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span><span class="op">(</span><span class="va">fit_RoBMA_est</span>, parameter <span class="op">=</span> <span class="st">"mu"</span>, prior <span class="op">=</span> <span class="cn">TRUE</span>, type <span class="op">=</span> <span class="st">"conditional"</span>, plot_type <span class="op">=</span> <span class="st">"ggplot"</span><span class="op">)</span></pre></div>
<p><img src="ReproducingBMA_files/figure-html/unnamed-chunk-6-1.png" width="384" style="display: block; margin: auto;"></p>
<p>We can also visualize the estimates from the individual models used in the ensemble. To do that, we need to change the type argument to <code>type = "models"</code>. Whereas the first two models assume that the <span class="math inline">\(\mu\)</span> estimate is zero - we see their mean estimate as a square at zero, the last two models use the Cauchy distribution for prior on the mean parameter - we see their mean estimates and credible intervals. The size of the square denoting the mean estimate corresponds to its posterior probability, which is also displayed in the right-hand side panel. The bottom then shows the model averaged-estimate that weighted posterior distribution of all included models.</p>
<div class="sourceCode" id="cb8"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span><span class="op">(</span><span class="va">fit_RoBMA_est</span>, parameter <span class="op">=</span> <span class="st">"mu"</span>, type <span class="op">=</span> <span class="st">"models"</span><span class="op">)</span></pre></div>
<p><img src="ReproducingBMA_files/figure-html/unnamed-chunk-7-1.png" width="624" style="display: block; margin: auto;"></p>
<p>The last type of visualization that we show here is the forest plot. It displays the original studies’ effects and the meta-analytic estimate within one figure. It can be requested by changing the parameter argument <code>parameter = "forest"</code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span><span class="op">(</span><span class="va">fit_RoBMA_est</span>, parameter <span class="op">=</span> <span class="st">"forest"</span><span class="op">)</span></pre></div>
<p><img src="ReproducingBMA_files/figure-html/unnamed-chunk-8-1.png" width="480" style="display: block; margin: auto;"></p>
<p>Furthermore, we can include the estimated true effects of the studies in the figure as well by setting the parameter argument to <code>parameter = c("forest","theta")</code>. We can see that the true effect estimates (grey) are shrunk towards the meta-analytic estimate which is a result of the pooling occurring in the random effects models.</p>
<div class="sourceCode" id="cb10"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.html">plot</a></span><span class="op">(</span><span class="va">fit_RoBMA_est</span>, parameter <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"forest"</span>,<span class="st">"theta"</span><span class="op">)</span><span class="op">)</span></pre></div>
<p><img src="ReproducingBMA_files/figure-html/unnamed-chunk-9-1.png" width="480" style="display: block; margin: auto;"></p>
<p>For more options provided by the plotting function, see its documentation using <code><a href="../reference/plot.RoBMA.html">plot.RoBMA()</a></code>.</p>
</div>
<div id="references" class="section level3 unnumbered">
<h3 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h3>
<div id="refs" class="references">
<div id="ref-gronau2017">
<p>Gronau, Q. F., Van Erp, S., Heck, D. W., Cesario, J., Jonas, K. J., &amp; Wagenmakers, E.-J. (2017). A Bayesian model-averaged meta-analysis of the power pose effect with informed and default priors: The case of felt power. <em>Comprehensive Results in Social Psychology</em>, <em>2</em>(1), 123–138.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by František Bartoš, Maximilian Maier.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
