<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Reproducing Bayesian Model-Averaged Meta-Analysis • RoBMA</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Reproducing Bayesian Model-Averaged Meta-Analysis">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">RoBMA</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.5.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/CustomEnsembles.html">Fitting Custom Meta-Analytic Ensembles</a></li>
    <li><a class="dropdown-item" href="../articles/FastRoBMA.html">Fast Robust Bayesian Meta-Analysis via Spike and Slab Algorithm</a></li>
    <li><a class="dropdown-item" href="../articles/HierarchicalBMA.html">Hierarchical Bayesian Model-Averaged Meta-Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/MedicineBiBMA.html">Informed Bayesian Model-Averaged Meta-Analysis with Binary Outcomes</a></li>
    <li><a class="dropdown-item" href="../articles/MedicineBMA.html">Informed Bayesian Model-Averaged Meta-Analysis in Medicine</a></li>
    <li><a class="dropdown-item" href="../articles/MetaRegression.html">Robust Bayesian Model-Averaged Meta-Regression</a></li>
    <li><a class="dropdown-item" href="../articles/ReproducingBMA.html">Reproducing Bayesian Model-Averaged Meta-Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/Tutorial.html">Tutorial: Adjusting for Publication Bias in JASP and R - Selection Models, PET-PEESE, and Robust Bayesian Meta-Analysis</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/FBartos/RoBMA/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Reproducing Bayesian Model-Averaged Meta-Analysis</h1>
                        <h4 data-toc-skip class="author">František
Bartoš</h4>
            
            <h4 data-toc-skip class="date">2025-07-30</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/FBartos/RoBMA/blob/v3.5.1/vignettes/ReproducingBMA.Rmd" class="external-link"><code>vignettes/ReproducingBMA.Rmd</code></a></small>
      <div class="d-none name"><code>ReproducingBMA.Rmd</code></div>
    </div>

    
    
<p>By default, the RoBMA package estimates an ensemble of 36
meta-analytic models and provides functions for convenient manipulation
of the fitted object. However, the package has been designed so it can
be used as a framework for estimating any combination of meta-analytic
models (or a single model). Here, we illustrate how to build a custom
ensemble of meta-analytic models - specifically the same ensemble that
is used in ‘classical’ Bayesian Model-Averaged Meta-Analysis <span class="citation">(Bartoš et al., 2021; Gronau et al., 2017,
2021)</span>. See <a href="CustomEnsembles.html">this vignette</a> if
you are interested in building more customized ensembles or <span class="citation">Bartoš et al. (2022)</span> for a tutorial on fitting
(custom) models in JASP.</p>
<div class="section level3">
<h3 id="reproducing-bayesian-model-averaged-meta-analysis-bma">Reproducing Bayesian Model-Averaged Meta-Analysis (BMA)<a class="anchor" aria-label="anchor" href="#reproducing-bayesian-model-averaged-meta-analysis-bma"></a>
</h3>
<p>We illustrate how to fit a classical BMA (not adjusting for
publication bias) using <code>RoBMA</code>. For this purpose, we
reproduce a meta-analysis of registered reports on Power posing by <span class="citation">Gronau et al. (2017)</span>. We focus only on the
analysis of all reported results using a Cauchy prior distribution with
scale
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi>/</mi><msqrt><mn>2</mn></msqrt></mrow><annotation encoding="application/x-tex">1/\sqrt{2}</annotation></semantics></math>
for the effect size estimation (half-Cauchy for testing) and
inverse-gamma distribution with shape = 1 and scale = 0.15 for the
heterogeneity parameter. You can find the figure from the original
publication <a href="https://www.flickr.com/photos/149473606@N08/34086113581/in/dateposted-public/" class="external-link">here</a>
and the paper’s supplementary materials at <a href="https://osf.io/fxg32/" class="external-link uri">https://osf.io/fxg32/</a>.</p>
<p>First, we load the power posing data provided within the metaBMA
package and reproduce the analysis performed by <span class="citation">Gronau et al. (2017)</span>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"power_pose"</span>, package <span class="op">=</span> <span class="st">"metaBMA"</span><span class="op">)</span></span>
<span><span class="va">power_pose</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"study"</span>, <span class="st">"effectSize"</span>, <span class="st">"SE"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">#&gt;                study effectSize        SE</span></span>
<span><span class="co">#&gt; 1      Bailey et al.  0.2507640 0.2071399</span></span>
<span><span class="co">#&gt; 2       Ronay et al.  0.2275180 0.1931046</span></span>
<span><span class="co">#&gt; 3 Klaschinski et al.  0.3186069 0.1423228</span></span>
<span><span class="co">#&gt; 4     Bombari et al.  0.2832082 0.1421356</span></span>
<span><span class="co">#&gt; 5        Latu et al.  0.1463949 0.1416107</span></span>
<span><span class="co">#&gt; 6      Keller et al.  0.1509773 0.1221166</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fit_BMA_test</span> <span class="op">&lt;-</span> <span class="fu">metaBMA</span><span class="fu">::</span><span class="fu"><a href="https://danheck.github.io/metaBMA/reference/meta_bma.html" class="external-link">meta_bma</a></span><span class="op">(</span>y   <span class="op">=</span> <span class="va">power_pose</span><span class="op">$</span><span class="va">effectSize</span>, SE <span class="op">=</span> <span class="va">power_pose</span><span class="op">$</span><span class="va">SE</span>,</span>
<span>                                  d   <span class="op">=</span> <span class="fu">metaBMA</span><span class="fu">::</span><span class="fu"><a href="https://danheck.github.io/metaBMA/reference/prior.html" class="external-link">prior</a></span><span class="op">(</span>family <span class="op">=</span> <span class="st">"halfcauchy"</span>, param <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                                  tau <span class="op">=</span> <span class="fu">metaBMA</span><span class="fu">::</span><span class="fu"><a href="https://danheck.github.io/metaBMA/reference/prior.html" class="external-link">prior</a></span><span class="op">(</span>family <span class="op">=</span> <span class="st">"invgamma"</span>, param <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">.15</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span> </span>
<span><span class="va">fit_BMA_est</span>  <span class="op">&lt;-</span> <span class="fu">metaBMA</span><span class="fu">::</span><span class="fu"><a href="https://danheck.github.io/metaBMA/reference/meta_bma.html" class="external-link">meta_bma</a></span><span class="op">(</span>y   <span class="op">=</span> <span class="va">power_pose</span><span class="op">$</span><span class="va">effectSize</span>, SE <span class="op">=</span> <span class="va">power_pose</span><span class="op">$</span><span class="va">SE</span>,</span>
<span>                                  d   <span class="op">=</span> <span class="fu">metaBMA</span><span class="fu">::</span><span class="fu"><a href="https://danheck.github.io/metaBMA/reference/prior.html" class="external-link">prior</a></span><span class="op">(</span>family <span class="op">=</span> <span class="st">"cauchy"</span>, param <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                                  tau <span class="op">=</span> <span class="fu">metaBMA</span><span class="fu">::</span><span class="fu"><a href="https://danheck.github.io/metaBMA/reference/prior.html" class="external-link">prior</a></span><span class="op">(</span>family <span class="op">=</span> <span class="st">"invgamma"</span>, param <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">.15</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fit_BMA_test</span><span class="op">$</span><span class="va">inclusion</span></span>
<span><span class="co">#&gt; ### Inclusion Bayes factor ###</span></span>
<span><span class="co">#&gt;       Model Prior Posterior included</span></span>
<span><span class="co">#&gt; 1  fixed_H0  0.25   0.00868         </span></span>
<span><span class="co">#&gt; 2  fixed_H1  0.25   0.77745        x</span></span>
<span><span class="co">#&gt; 3 random_H0  0.25   0.02061         </span></span>
<span><span class="co">#&gt; 4 random_H1  0.25   0.19325        x</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   Inclusion posterior probability: 0.971 </span></span>
<span><span class="co">#&gt;   Inclusion Bayes factor: 33.136</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">fit_BMA_est</span><span class="op">$</span><span class="va">estimates</span>,<span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt;          mean   sd 2.5%  50% 97.5% hpd95_lower hpd95_upper  n_eff Rhat</span></span>
<span><span class="co">#&gt; averaged 0.22 0.06 0.09 0.22  0.34        0.09        0.34     NA   NA</span></span>
<span><span class="co">#&gt; fixed    0.22 0.06 0.10 0.22  0.34        0.10        0.34 3026.5    1</span></span>
<span><span class="co">#&gt; random   0.22 0.08 0.07 0.22  0.37        0.07        0.37 6600.4    1</span></span></code></pre></div>
<p>From the output, we can see the inclusion Bayes factor for the effect
size was
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><msub><mi>F</mi><mn>10</mn></msub><mo>=</mo><mn>33.14</mn></mrow><annotation encoding="application/x-tex">BF_{10} = 33.14</annotation></semantics></math>
and the effect size estimate 0.22, 95% HDI [0.09, 0.34], which matches
the reported results. Please note that the <code>metaBMA</code> package
model-averages only across the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>H</mi><mn>1</mn></msub><annotation encoding="application/x-tex">H_{1}</annotation></semantics></math>
models, whereas the <code>RoBMA</code> package model-averages across all
models (assuming the presence and absence of the effect).</p>
</div>
<div class="section level3">
<h3 id="using-robma">Using RoBMA<a class="anchor" aria-label="anchor" href="#using-robma"></a>
</h3>
<p>Now we reproduce the analysis with <code>RoBMA</code>. We set the
corresponding prior distributions for effect sizes
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>μ</mi><annotation encoding="application/x-tex">\mu</annotation></semantics></math>)
and heterogeneity
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>τ</mi><annotation encoding="application/x-tex">\tau</annotation></semantics></math>),
and remove the alternative prior distributions for the publication bias
by setting <code>priors_bias = NULL</code>. To specify the half-Cauchy
prior distribution with the <code><a href="../reference/prior.html">RoBMA::prior()</a></code> function we use
a regular Cauchy distribution and truncate it at zero (note that both
<code>metaBMA</code> and <code>RoBMA</code> export their own
<code><a href="../reference/prior.html">prior()</a></code> functions that will clash when loading both
packages simultaneously). The inverse-gamma prior distribution for the
heterogeneity parameter is the default option (we specify it for
completeness). We omit the specifications for the null prior
distributions for the effect size, heterogeneity (both of which are set
to a spike at 0 by default), and publication bias (which is set to no
publication bias by default). Note that starting from version 3.1, the
package includes the <code><a href="../reference/NoBMA.html">NoBMA()</a></code> function, which allows users
to skip publication bias adjustment directly.</p>
<p>Since <code>metaBMA</code> model-averages the effect size estimates
only across the models assuming presence of the effect, we remove the
models assuming absence of the effect from the estimation ensemble with
<code>priors_effect_null = NULL</code>. Finally, we set
<code>transformation = "cohens_d"</code> to estimate the models on
Cohen’s <em>d</em> scale. RoBMA uses Fisher’s <em>z</em> scale by
default and transforms the estimated coefficients back to the scale that
is used for specifying the prior distributions. We speed up the
computation by setting <code>parallel = TRUE</code>, and set a seed for
reproducibility.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://fbartos.github.io/RoBMA/" class="external-link">RoBMA</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">fit_RoBMA_test</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/RoBMA.html">RoBMA</a></span><span class="op">(</span>d <span class="op">=</span> <span class="va">power_pose</span><span class="op">$</span><span class="va">effectSize</span>, se <span class="op">=</span> <span class="va">power_pose</span><span class="op">$</span><span class="va">SE</span>, study_names <span class="op">=</span> <span class="va">power_pose</span><span class="op">$</span><span class="va">study</span>,</span>
<span>                        priors_effect  <span class="op">=</span> <span class="fu"><a href="../reference/prior.html">prior</a></span><span class="op">(</span></span>
<span>                          distribution <span class="op">=</span> <span class="st">"cauchy"</span>,</span>
<span>                          parameters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>location <span class="op">=</span> <span class="fl">0</span>, scale <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                          truncation <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">0</span>, <span class="cn">Inf</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                        priors_heterogeneity <span class="op">=</span> <span class="fu"><a href="../reference/prior.html">prior</a></span><span class="op">(</span></span>
<span>                          distribution <span class="op">=</span> <span class="st">"invgamma"</span>,</span>
<span>                          parameters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>shape <span class="op">=</span> <span class="fl">1</span>, scale <span class="op">=</span> <span class="fl">0.15</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                        priors_bias <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                        transformation <span class="op">=</span> <span class="st">"cohens_d"</span>, seed <span class="op">=</span> <span class="fl">1</span>, parallel <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">fit_RoBMA_est</span>  <span class="op">&lt;-</span> <span class="fu"><a href="../reference/RoBMA.html">RoBMA</a></span><span class="op">(</span>d <span class="op">=</span> <span class="va">power_pose</span><span class="op">$</span><span class="va">effectSize</span>, se <span class="op">=</span> <span class="va">power_pose</span><span class="op">$</span><span class="va">SE</span>, study_names <span class="op">=</span> <span class="va">power_pose</span><span class="op">$</span><span class="va">study</span>,</span>
<span>                        priors_effect  <span class="op">=</span> <span class="fu"><a href="../reference/prior.html">prior</a></span><span class="op">(</span></span>
<span>                          distribution <span class="op">=</span> <span class="st">"cauchy"</span>,</span>
<span>                          parameters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>location <span class="op">=</span> <span class="fl">0</span>, scale <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                        priors_heterogeneity <span class="op">=</span> <span class="fu"><a href="../reference/prior.html">prior</a></span><span class="op">(</span></span>
<span>                          distribution <span class="op">=</span> <span class="st">"invgamma"</span>,</span>
<span>                          parameters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>shape <span class="op">=</span> <span class="fl">1</span>, scale <span class="op">=</span> <span class="fl">0.15</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                        priors_bias <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                        priors_effect_null <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                        transformation <span class="op">=</span> <span class="st">"cohens_d"</span>, seed <span class="op">=</span> <span class="fl">2</span>, parallel <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">fit_RoBMA_test</span><span class="op">)</span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; RoBMA(d = power_pose$effectSize, se = power_pose$SE, study_names = power_pose$study, </span></span>
<span><span class="co">#&gt;     transformation = "cohens_d", priors_effect = prior(distribution = "cauchy", </span></span>
<span><span class="co">#&gt;         parameters = list(location = 0, scale = 1/sqrt(2)), truncation = list(0, </span></span>
<span><span class="co">#&gt;             Inf)), priors_heterogeneity = prior(distribution = "invgamma", </span></span>
<span><span class="co">#&gt;         parameters = list(shape = 1, scale = 0.15)), priors_bias = NULL, </span></span>
<span><span class="co">#&gt;     parallel = TRUE, seed = 1)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Robust Bayesian meta-analysis</span></span>
<span><span class="co">#&gt; Components summary:</span></span>
<span><span class="co">#&gt;               Models Prior prob. Post. prob. Inclusion BF</span></span>
<span><span class="co">#&gt; Effect           2/4       0.500       0.971       33.112</span></span>
<span><span class="co">#&gt; Heterogeneity    2/4       0.500       0.214        0.273</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Model-averaged estimates:</span></span>
<span><span class="co">#&gt;      Mean Median 0.025 0.975</span></span>
<span><span class="co">#&gt; mu  0.213  0.217 0.000 0.348</span></span>
<span><span class="co">#&gt; tau 0.022  0.000 0.000 0.178</span></span>
<span><span class="co">#&gt; The estimates are summarized on the Cohen's d scale (priors were specified on the Cohen's d scale).</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">fit_RoBMA_est</span><span class="op">)</span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; RoBMA(d = power_pose$effectSize, se = power_pose$SE, study_names = power_pose$study, </span></span>
<span><span class="co">#&gt;     transformation = "cohens_d", priors_effect = prior(distribution = "cauchy", </span></span>
<span><span class="co">#&gt;         parameters = list(location = 0, scale = 1/sqrt(2))), </span></span>
<span><span class="co">#&gt;     priors_heterogeneity = prior(distribution = "invgamma", parameters = list(shape = 1, </span></span>
<span><span class="co">#&gt;         scale = 0.15)), priors_bias = NULL, priors_effect_null = NULL, </span></span>
<span><span class="co">#&gt;     parallel = TRUE, seed = 2)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Robust Bayesian meta-analysis</span></span>
<span><span class="co">#&gt; Components summary:</span></span>
<span><span class="co">#&gt;               Models Prior prob. Post. prob. Inclusion BF</span></span>
<span><span class="co">#&gt; Effect           2/2       1.000       1.000          Inf</span></span>
<span><span class="co">#&gt; Heterogeneity    1/2       0.500       0.200        0.250</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Model-averaged estimates:</span></span>
<span><span class="co">#&gt;      Mean Median 0.025 0.975</span></span>
<span><span class="co">#&gt; mu  0.220  0.220 0.096 0.346</span></span>
<span><span class="co">#&gt; tau 0.019  0.000 0.000 0.152</span></span>
<span><span class="co">#&gt; The estimates are summarized on the Cohen's d scale (priors were specified on the Cohen's d scale).</span></span></code></pre></div>
<p>The output from the <code><a href="../reference/summary.RoBMA.html">summary.RoBMA()</a></code> function has 2
parts. The first one under the “Robust Bayesian Meta-Analysis” heading
provides a basic summary of the fitted models by component types
(presence of the Effect and Heterogeneity). The table summarizes the
prior and posterior probabilities and the inclusion Bayes factors of the
individual components. The results for the half-Cauchy model specified
for testing show that the inclusion BF is nearly identical to the one
computed by the <code>metaBMA</code> package,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mtext mathvariant="normal">BF</mtext><mn>10</mn></msub><mo>=</mo><mn>33.11</mn></mrow><annotation encoding="application/x-tex">\text{BF}_{10} = 33.11</annotation></semantics></math>.</p>
<p>The second part under the ‘Model-averaged estimates’ heading displays
the parameter estimates. The results for the unrestricted Cauchy model
specified for estimation show the effect size estimate
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>μ</mi><mo>=</mo><mn>0.22</mn></mrow><annotation encoding="application/x-tex">\mu = 0.22</annotation></semantics></math>,
95% CI [0.10, 0.35] that also mirrors the one obtained from
<code>metaBMA</code> package.</p>
</div>
<div class="section level3">
<h3 id="visualizing-the-results">Visualizing the Results<a class="anchor" aria-label="anchor" href="#visualizing-the-results"></a>
</h3>
<p>RoBMA provides extensive options for visualizing the results. Here,
we visualize the prior (grey) and posterior (black) distribution for the
mean parameter.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fit_RoBMA_est</span>, parameter <span class="op">=</span> <span class="st">"mu"</span>, prior <span class="op">=</span> <span class="cn">TRUE</span>, xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="ReproducingBMA_files/figure-html/fig_mu_est-1.png" width="50%" style="display: block; margin: auto;"></p>
<p>If we visualize the effect size from the model specified for testing,
we notice a few more things. The function plots the model-averaged
estimates across all models by default, including models assuming the
absence of the effect. The arrows represents the probability of a spike,
here, at the value 0. The secondary y-axis (right) shows the probability
of the value 0 decreased from 0.50, to 0.03 (also obtainable from the
“Robust Bayesian Meta-Analysis” field in the
<code><a href="../reference/summary.RoBMA.html">summary.RoBMA()</a></code> function). Furthermore, the continuous
prior distributions for the effect size under the alternative hypothesis
are truncated to only positive values, reflecting the assumption that
the effect size cannot be negative.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fit_RoBMA_test</span>, parameter <span class="op">=</span> <span class="st">"mu"</span>, prior <span class="op">=</span> <span class="cn">TRUE</span>, xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">.5</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="ReproducingBMA_files/figure-html/fig_mu_test-1.png" width="50%" style="display: block; margin: auto;"></p>
<p>We can also visualize the estimates from the individual models used
in the ensemble. We do that with the <code><a href="../reference/plot_models.html">plot_models()</a></code>
function, which visualizes the effect size estimates and 95% CI of each
of the specified models from the estimation ensemble (Model 1
corresponds to the fixed effect model and Model 2 to the random effect
model). The size of the square representing the mean estimate reflects
the posterior model probability of the model, which is also displayed in
the right-hand side panel. The bottom part of the figure shows the
model-averaged estimate that is a combination of the individual model
posterior distributions weighted by the posterior model
probabilities.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_models.html">plot_models</a></span><span class="op">(</span><span class="va">fit_RoBMA_est</span><span class="op">)</span></span></code></pre></div>
<p><img src="ReproducingBMA_files/figure-html/fig_models-1.png" width="75%" style="display: block; margin: auto;"></p>
<p>The last type of visualization that we show here is the forest plot.
It displays both the effect sizes from the original studies and the
overall meta-analytic estimate in a single figure. It can be requested
by using the <code><a href="../reference/forest.html">forest()</a></code> function.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/forest.html">forest</a></span><span class="op">(</span><span class="va">fit_RoBMA_est</span><span class="op">)</span></span></code></pre></div>
<p><img src="ReproducingBMA_files/figure-html/fig_forest-1.png" width="75%" style="display: block; margin: auto;"></p>
<p>For more options provided by the plotting function, see its
documentation using <code>?plot.RoBMA()</code>,
<code>?plot_models()</code>, and <code>?forest()</code>.</p>
</div>
<div class="section level3 unnumbered">
<h3 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h3>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0" line-spacing="2">
<div id="ref-bartos2021bayesian" class="csl-entry">
Bartoš, F., Gronau, Q. F., Timmers, B., Otte, W. M., Ly, A., &amp;
Wagenmakers, E.-J. (2021). Bayesian model-averaged meta-analysis in
medicine. <em>Statistics in Medicine</em>, <em>40</em>(30), 6743–6761.
<a href="https://doi.org/10.1002/sim.9170" class="external-link">https://doi.org/10.1002/sim.9170</a>
</div>
<div id="ref-bartos2020adjusting" class="csl-entry">
Bartoš, F., Maier, Maximilian, Quintana, D. S., &amp; Wagenmakers, E.-J.
(2022). Adjusting for publication bias in <span>JASP</span> and
<span>R</span> — <span>S</span>election models, <span>PET-PEESE</span>,
and robust <span>B</span>ayesian meta-analysis. <em>Advances in Methods
and Practices in Psychological Science</em>, <em>5</em>(3), 1–19. <a href="https://doi.org/10.1177/25152459221109259" class="external-link">https://doi.org/10.1177/25152459221109259</a>
</div>
<div id="ref-gronau2020primer" class="csl-entry">
Gronau, Q. F., Heck, D. W., Berkhout, S. W., Haaf, J. M., &amp;
Wagenmakers, E.-J. (2021). A primer on <span>B</span>ayesian
model-averaged meta-analysis. <em>Advances in Methods and Practices in
Psychological Science</em>, <em>4</em>(3), 1–19. <a href="https://doi.org/10.1177/25152459211031256" class="external-link">https://doi.org/10.1177/25152459211031256</a>
</div>
<div id="ref-gronau2017bayesian" class="csl-entry">
Gronau, Q. F., Van Erp, S., Heck, D. W., Cesario, J., Jonas, K. J.,
&amp; Wagenmakers, E.-J. (2017). A <span>B</span>ayesian model-averaged
meta-analysis of the power pose effect with informed and default priors:
<span>T</span>he case of felt power. <em>Comprehensive Results in Social
Psychology</em>, <em>2</em>(1), 123–138. <a href="https://doi.org/10.1080/23743603.2017.1326760" class="external-link">https://doi.org/10.1080/23743603.2017.1326760</a>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by František Bartoš, Maximilian Maier.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
